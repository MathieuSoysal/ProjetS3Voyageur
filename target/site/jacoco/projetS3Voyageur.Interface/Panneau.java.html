<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Panneau.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ProjetS3Voyageur</a> &gt; <a href="index.source.html" class="el_package">projetS3Voyageur.Interface</a> &gt; <span class="el_source">Panneau.java</span></div><h1>Panneau.java</h1><pre class="source lang-java linenums">package projetS3Voyageur.Interface;

import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.ItemEvent;
import java.awt.event.ItemListener;
import java.util.Collections;

import javax.swing.BoxLayout;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

import projetS3Voyageur.CompositionPays.Pays;
import projetS3Voyageur.ModesDeRecherches.ModeRecherche;
import projetS3Voyageur.ModesDeRecherches.PPMulti;
import projetS3Voyageur.ModesDeRecherches.PlusProcheV3;
import projetS3Voyageur.ModesDeRecherches.TrackProchesMulti;

class Panneau extends JPanel {

  /**
   *
   */
  private static final long serialVersionUID = 949185009500049201L;

<span class="nc" id="L28">  private JButton boutonReset = new JButton(&quot;Reinitialiser&quot;);</span>
<span class="nc" id="L29">  private JButton boutonCalculer = new JButton(&quot;Calculer&quot;);</span>
<span class="nc" id="L30">  private JButton boutonMelanger = new JButton(&quot;Melanger&quot;);</span>
<span class="nc" id="L31">  private JComboBox&lt;String&gt; listeDeroulante = new JComboBox&lt;&gt;();</span>

<span class="nc" id="L33">  private PanneauGraphique graphique = new PanneauGraphique();</span>

<span class="nc" id="L35">  private ModeRecherche algo = new TrackProchesMulti();</span>

<span class="nc" id="L37">  Panneau() {</span>

    // #region Organisation de l'affichage de la fênetre :

<span class="nc" id="L41">    setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));</span>

    // #region Première Boite
<span class="nc" id="L44">    JPanel boite1 = new JPanel();</span>

<span class="nc" id="L46">    boite1.setLayout(new BoxLayout(boite1, BoxLayout.LINE_AXIS));</span>
<span class="nc" id="L47">    boite1.add(graphique);</span>
<span class="nc" id="L48">    add(boite1);</span>
    // #endregion Première Boite

    // #region Deuxième Boite
<span class="nc" id="L52">    JPanel boite2 = new JPanel();</span>

<span class="nc" id="L54">    boite2.setLayout(new BoxLayout(boite2, BoxLayout.LINE_AXIS));</span>
<span class="nc" id="L55">    boite2.add(boutonReset);</span>
<span class="nc" id="L56">    boite2.add(boutonCalculer);</span>
<span class="nc" id="L57">    boite2.add(boutonMelanger);</span>
<span class="nc" id="L58">    boite2.add(listeDeroulante);</span>
    // boite2.add(boutonPlusProche);

<span class="nc" id="L61">    add(boite2);</span>
    // #endregion Deuxième Boite

    // #endregion Organisation de l'affichage de la fênetre

    // Liste déroulante
<span class="nc" id="L67">    listeDeroulante.addItem(&quot;TrackProche&quot;);</span>
<span class="nc" id="L68">    listeDeroulante.addItem(&quot;Plus Proche&quot;);</span>
<span class="nc" id="L69">    listeDeroulante.addItem(&quot;Plus Proche multiple&quot;);</span>
<span class="nc" id="L70">    listeDeroulante.addItemListener(new ItemListener() {</span>

      @Override
      public void itemStateChanged(ItemEvent e) {
<span class="nc bnc" id="L74" title="All 4 branches missed.">        switch (e.getItem().toString()) {</span>
        case &quot;Plus Proche&quot;:
<span class="nc" id="L76">          algo = new PlusProcheV3();</span>
<span class="nc" id="L77">          break;</span>

        case &quot;TrackProche&quot;:
<span class="nc" id="L80">          algo = new TrackProchesMulti();</span>
<span class="nc" id="L81">          break;</span>

        case &quot;Plus Proche multiple&quot;:
<span class="nc" id="L84">          algo = new PPMulti();</span>
<span class="nc" id="L85">          break;</span>

        default:
<span class="nc" id="L88">        System.err.println(&quot;Une erreur est survenue lors de la selection&quot;);</span>
          break;
        }

<span class="nc" id="L92">      }</span>

    });

    // #region Action des boutons

    // Bouton Mélanger
<span class="nc" id="L99">    boutonMelanger.addActionListener(new ActionListener() {</span>
      @Override
      public void actionPerformed(ActionEvent event) {
<span class="nc" id="L102">        Collections.shuffle(graphique.points);</span>
<span class="nc" id="L103">        graphique.repaint();</span>
<span class="nc" id="L104">      }</span>
    });

    // Bouton Reset
<span class="nc" id="L108">    boutonReset.addActionListener(new ActionListener() {</span>
      @Override
      public void actionPerformed(ActionEvent event) {
<span class="nc" id="L111">        graphique.points.clear();</span>
<span class="nc" id="L112">        graphique.repaint();</span>
<span class="nc" id="L113">      }</span>
    });

    // Bouton Calculer
<span class="nc" id="L117">    boutonCalculer.addActionListener(new ActionListener() {</span>
      @Override
      public void actionPerformed(ActionEvent event) {
<span class="nc bnc" id="L120" title="All 2 branches missed.">        if (graphique.points.size() &gt; 3)</span>
<span class="nc" id="L121">          calculer(algo);</span>
        else
<span class="nc" id="L123">          erreurPointsInsufisant();</span>
<span class="nc" id="L124">      }</span>
    });
    // #endregion Action des boutons
<span class="nc" id="L127">  }</span>

  // #region Outils
  private void calculer(ModeRecherche algo) {
<span class="nc" id="L131">    Pays pays = new Pays(graphique.points);</span>
<span class="nc" id="L132">    algo.recherche(pays, 0);</span>
<span class="nc" id="L133">    graphique.points.clear();</span>

<span class="nc" id="L135">    String parcours = algo.getParcours().getVillesEmprunté();</span>
<span class="nc" id="L136">    parcours = parcours.substring(0, parcours.length() - 2);</span>
<span class="nc bnc" id="L137" title="All 2 branches missed.">    for (String ville : parcours.split(&quot;&gt;&quot;)) {</span>
<span class="nc" id="L138">      graphique.points.add(pays.getPositionVille(Integer.valueOf(ville)));</span>
    }

<span class="nc" id="L141">    graphique.repaint();</span>
<span class="nc" id="L142">  }</span>

  // #region Exception
  private void erreurPointsInsufisant() {
<span class="nc" id="L146">    JOptionPane.showMessageDialog(graphique,</span>
<span class="nc" id="L147">        &quot;Veuillez d'abord placer au minimum 4 points sur le plant. \n Pour placer un point il suffit de cliquer sur le plant.&quot;,</span>
<span class="nc" id="L148">        &quot;Nombre de points insufisant&quot;, JOptionPane.ERROR_MESSAGE);</span>
<span class="nc" id="L149">  }</span>
  // #endregion Exception

  // #endregion Outils
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.5.201910111838</span></div></body></html>